# WhichCountryObjc

After my initial 'dear in headlight' response I started working on a app assignment which should filter through a given kml file. It should do this offline and it should then update the map with the entered coordinate or geolocation. 

As an approach if first started doing research on kml files and how to use them in a app. I looked at several frameworks but also found out that apple has it's own class for viewing them. I embedded this class in the app an accessed it's methods to parse through the KML files. By being able to parse the file and to look at the file I found out it contained lots of polygon shaped data made up by coordinates. 

The next step I wanted to take was to check whether a given coordinate would lie within a polygon shape or not, I started looking for suitable methods and found a few discussions online: 

1: http://stackoverflow.com/questions/4354130/how-to-determine-if-an-annotation-is-inside-of-mkpolygonview-ios
2: http://stackoverflow.com/questions/19014926/detecting-a-point-in-a-mkpolygon-broke-with-ios7-cgpathcontainspoint

I adopted the last the second method of CPPathContainsPoint to check whether a coordinate lies within a polygon. I did this by changing the coordinates from MKMappoints to CGPoints. And then running the BOOL to check whether it is true or not. If so I would update the map with an overlay of the country. 

Also in the process of trying what was easiest to work with I imported the Google Maps SDK, but in that case the drawing of multiple polygon's on the map was much harder, so I continued to work with Apple Mapkit. 

As software architecture is concerned I used the apple KML Parser and a ViewController with Xib. Within that ViewController I could run the method that filters through the data generated by the KML Parser at Viewdidload. To ensure a quickly loading App I do not start drawing overlays until a specific coordinate is entered. So the data is used without displaying it until necessary. 

Problems and stuff to work on: 

- I did not got around to the offline usage of the map. 
- After testing I found out that my method works perfectly. But If I try it with a place in the USA it does not recognize the coordinate, maybe something with the structure of the KML file or something else. 
- I've set up my app in Objc because for now this allows me to work faster and experiment more, but I want too re write the file into swift. 


